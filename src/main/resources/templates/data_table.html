<!DOCTYPE html>
<html style="font-size: 16px;" lang="ru" xmlns:th="http://www.w3.org/1999/xhtml"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>Таблицы</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/nicepage.css" media="screen" th:href="@{/css/nicepage.css}">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    <link rel="stylesheet" href="/css/data_table.css" media="screen" th:href="@{/css/data_table.css}">
</head>

  <body class="u-body u-xl-mode" data-lang="ru" style="padding-right: 0px;">
  <div th:replace="~{header :: header}"></div>

  <section class="u-align-center u-clearfix u-gradient u-section-1" id="sec-6542">
      <div class="u-clearfix u-sheet u-sheet-1">
        <div class="u-container-style u-expanded-width-lg u-expanded-width-xl u-grey-5 u-group u-shape-rectangle u-group-1">
          <div class="u-container-layout u-valign-middle u-container-layout-1"></div>
        </div>
        <div class="u-align-center-lg u-align-center-md u-align-center-sm u-align-center-xl u-clearfix u-group-elements u-group-elements-1">
          <div class="u-expanded-width-lg u-expanded-width-md u-expanded-width-xl u-expanded-width-xs u-list u-list-1">
            <div class="u-repeater u-repeater-1">
              <div class="u-container-align-left-xs u-container-style u-list-item u-repeater-item">
                <div class="u-container-layout u-similar-container u-valign-middle-xs u-container-layout-2">
                  <a href="/data" class="u-align-center-lg u-align-center-xl u-align-left-md u-align-left-sm u-align-left-xs u-border-none u-btn u-btn-round u-button-style u-custom-item u-hover-feature u-hover-grey-5 u-none u-text-hover-custom-color-1 u-btn-1"><span class="u-file-icon u-grey-5 u-icon u-icon-1"><img src="/images/back-image.png" alt=""></span>&nbsp;назад
                  </a>
                </div>
              </div>
              <div class="u-container-align-left-xs u-container-style u-list-item u-repeater-item">
                <div class="u-container-layout u-similar-container u-valign-middle-xs u-container-layout-3">
                  <a class="u-align-center-lg u-align-center-xl u-align-left-md u-align-left-sm u-align-left-xs u-border-none u-btn u-btn-round u-button-style u-custom-item u-hover-feature u-hover-grey-5 u-none u-text-hover-custom-color-1 u-btn-2 u-dialog-link"
                     data-bs-toggle="modal" data-bs-target="#import-modal">Импорт<br>
                  </a>
                </div>
              </div>
              <div class="u-container-align-left-xs u-container-style u-list-item u-repeater-item">
                <div class="u-container-layout u-similar-container u-valign-middle-xs u-container-layout-4">
                  <a th:href="@{unload}" class="u-align-center-lg u-align-center-xl u-align-left-md u-align-left-sm u-align-left-xs u-border-none u-btn u-btn-round u-button-style u-custom-item u-hover-feature u-hover-grey-5 u-none u-text-hover-custom-color-1 u-btn-3">Экспорт</a>
                </div>
              </div>
              <div class="u-container-align-left-xs u-container-style u-list-item u-repeater-item">
                <div class="u-container-layout u-similar-container u-valign-middle-xs u-container-layout-5">
                  <a class="u-align-center-lg u-align-center-xl u-align-left-md u-align-left-sm u-align-left-xs u-border-none u-btn u-btn-round u-button-style u-custom-item u-hover-feature u-hover-grey-5 u-none u-text-hover-custom-color-1 u-btn-4"
                     data-bs-toggle="modal" data-bs-target="#new-entry-modal">добавить запись<br>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

          <div th:data-status="${status}" th:text="${message}" class="alert align-items-center alert-label" role="alert"></div>

          <div class="u-expanded-width u-table u-table-responsive u-table-1">
          <h2 class="modal-title" th:text="${tableName}" style="text-transform: capitalize;"></h2>
            <div style="max-height: 800px; overflow-y: auto; box-shadow: 5px 5px 20px 0 rgba(0,0,0,0.4);">
                <table id="table-peer" class="u-table-entity u-table-entity-1">
                    <thead class="u-align-center u-black u-table-header">
                    <tr style="height: 21px;">
                        <th class="u-border-1 u-border-black u-table-cell" style="width: 50px;">#</th>
                        <th class="u-border-1 u-border-black u-table-cell"
                            th:each="name : ${columnNames}" th:text="${name}" style="text-transform: capitalize;"></th>

                        <th class="u-border-1 u-border-black u-table-cell" style="width: 100px;">Update</th>
                        <th class="u-border-1 u-border-black u-table-cell" style="width: 100px;">Delete</th>
                    </tr>
                    </thead>
                    <tbody th:replace="~{'tables/' + ${tableName} :: ${tableName}} ?: _"></tbody>
                </table>
            </div>
        </div>
      </div>
    </section>
  <div th:replace="~{footer :: footer}"></div>

  <section class="modal fade u-align-center u-clearfix u-container-style u-dialog-block u-opacity u-opacity-70 u-dialog-section-9"
                id="import-modal" tabindex="-1" aria-labelledby="import-modal-label" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog u-align-center u-container-style u-dialog u-dialog-1">
          <div style="padding: 15px" class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="import-modal-label">Импорт</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <form th:action="@{upload}" enctype="multipart/form-data" class="was-validated" style="padding: 0px;" id="importForm" name="form" method="post">
                      <div class="mb-3 u-form-group u-label-none u-form-group-1">
                          <label for="formFile" class="form-label"></label>
                          <input class="form-control" type="file" name="file" id="formFile" value="" accept=".csv" required>
                      </div>
                  </form>
              </div>
              <div class="modal-footer">
                  <button type="submit" form="importForm" class="btn btn-outline-success">Импортировать</button>
                  <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Закрыть</button>
              </div>
          </div>
      </div>
  </section>

  <section class="modal fade u-align-center u-clearfix u-container-style u-dialog-block u-opacity u-opacity-70 u-dialog-section-9"
       id="new-entry-modal" tabindex="-1" aria-labelledby="new-entry-modal-label" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog u-align-center u-container-style u-dialog u-dialog-1">
          <div class="modal-content" style="padding: 15px">
              <div class="modal-header" style="padding-top: 0px; font-family: 'Open Sans', sans-serif;">
                  <h5 class="u-align-center u-text modal-title" id="new-entry-modal-label">Новая запись</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <form th:action="add" th:object="${Model}" class="was-validated" enctype="multipart/form-data" style="padding: 0px;" id="form-new" name="form" method="post">
                      <div th:replace="~{'tables/' + ${tableName} :: ${tableName} + '-new' } ?: _"></div>
                  </form>
              </div>
              <div class="modal-footer">
                  <button type="submit" form="form-new" class="btn btn-outline-success">Добавить</button>
                  <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Отмена</button>
              </div>
          </div>
      </div>
  </section>

  <section class="modal fade u-align-center u-clearfix u-container-style u-dialog-block u-opacity u-opacity-70 u-dialog-section-9"
       id="update-entry-modal" tabindex="-1" aria-labelledby="new-entry-modal-label" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog u-align-center u-container-style u-dialog u-dialog-1">
          <div class="modal-content" style="padding: 15px">
              <div class="modal-header" style="padding-top: 0px;">
                  <h5 class="u-text modal-title" id="update-entry-modal-label">Редактировать запись</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <form th:action="update" th:object="${Model}" class="" enctype="multipart/form-data" style="padding: 0px;" id="form-update" name="form" method="post">
                      <div th:replace="~{'tables/' + ${tableName} :: ${tableName} + '-update' } ?: _"></div>
                  </form>
              </div>
              <div class="modal-footer">
                  <button type="submit" form="form-update" class="btn btn-outline-success">Обновить</button>
                  <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Отмена</button>
              </div>
          </div>
      </div>
  </section>

  <section class="modal fade u-align-center u-clearfix u-container-style u-dialog-block u-opacity u-opacity-70 u-dialog-section-9"
       id="delete-entry-modal" tabindex="-1" aria-labelledby="new-entry-modal-label" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog u-align-center u-container-style u-dialog u-dialog-1">
          <div class="modal-content" style="padding: 15px">
              <div class="modal-header" style="padding-top: 0px;">
                  <h5 class="u-text modal-title" id="delete-entry-modal-label">Вы действительно хотите удалить запись?</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <form th:action="delete" th:object="${Model}" class="was-validated" enctype="multipart/form-data" style="padding: 0px;" id="form-delete" name="form" method="post">
                      <div th:replace="~{'tables/' + ${tableName} :: ${tableName} + '-delete' } ?: _"></div>
                  </form>
              </div>
              <div class="modal-footer">
                  <button type="submit" form="form-delete" class="btn btn-outline-danger">Удалить</button>
                  <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Отмена</button>
              </div>
          </div>
      </div>
  </section>

  <script src="https://code.jquery.com/jquery-latest.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script class="u-script" type="text/javascript" src="../static/js/nicepage.js" defer="" th:src="@{/js/nicepage.js}"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script type="text/javascript" src="/js/reload_dependencies.js" defer="" th:src="@{/js/reload_dependencies.js}"></script>
  <script type="text/javascript" src="/js/alert.js" defer="" th:src="@{/js/alert.js}"></script>
  <script type="text/javascript" src="/js/update_delete_action.js" defer="" th:src="@{/js/update_delete_action.js}"></script>
</body></html>